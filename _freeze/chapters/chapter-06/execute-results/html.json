{
  "hash": "208ca19553cce9cf2c945ab4568023ea",
  "result": {
    "markdown": "# Preparing data to answer causal questions\n\n\n\n\n\n## Introduction to the data\n\nThroughout this book we will be using data obtained from [Touring Plans](https://touringplans.com). Touring Plans is a company that helps folks plan their trips to Disney and Universal theme parks. One of their goals is to accurately predict attraction wait times at these theme parks by leveraging data and statistical modeling. The {touringplans} R package includes several datasets containing information about Disney theme park attractions. A summary of the attractions included in the package can be found by running the following:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(touringplans)\ntouringplans_datasets\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 14 × 8\n   dataset_name name  short_name park  land  opened_on \n   <chr>        <chr> <chr>      <chr> <chr> <date>    \n 1 alien_sauce… Alie… Alien Sau… Disn… Toy … 2018-06-30\n 2 dinosaur     DINO… DINOSAUR   Disn… Dino… 1998-04-22\n 3 expedition_… Expe… Expeditio… Disn… Asia  2006-04-07\n 4 flight_of_p… Avat… Flight of… Disn… Pand… 2017-05-27\n 5 kilimanjaro… Kili… Kilimanja… Disn… Afri… 1998-04-22\n 6 navi_river   Na'v… Na'vi Riv… Disn… Pand… 2017-05-27\n 7 pirates_of_… Pira… Pirates o… Magi… Adve… 1973-12-17\n 8 rock_n_roll… Rock… Rock Coas… Disn… Suns… 1999-07-29\n 9 seven_dwarf… Seve… 7 Dwarfs … Magi… Fant… 2014-05-28\n10 slinky_dog   Slin… Slinky Dog Disn… Toy … 2018-06-30\n11 soarin       Soar… Soarin'    Epcot Futu… 2005-05-05\n12 spaceship_e… Spac… Spaceship… Epcot Futu… 1982-10-01\n13 splash_moun… Spla… Splash Mo… Magi… Fron… 1992-07-17\n14 toy_story_m… Toy … Toy Story… Disn… Toy … 2008-05-31\n# ℹ 2 more variables: duration <dbl>,\n#   average_wait_per_hundred <dbl>\n```\n\n\n:::\n:::\n\n\n## Data wrangling and recipes\n\nSuppose we are interested in answering a question about the Seven Dwarfs Mine Train ride, an attraction at Walt Disney World's Magic Kingdom. The `seven_dwarfs_train` dataset in the {touringplans} package contains information about the date a particular wait time was recorded (`date`), the time of the wait time (`datetime`), the actual wait time (`sactmin`), and the posted wait time (`spostmin`). Let's take a look at this dataset. The {skimr} package is great for \n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(skimr)\nskim(seven_dwarfs_train)\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |                   |\n|:------------------------|:------------------|\n|Name                     |seven_dwarfs_train |\n|Number of rows           |275440             |\n|Number of columns        |4                  |\n|_______________________  |                   |\n|Column type frequency:   |                   |\n|Date                     |1                  |\n|numeric                  |2                  |\n|POSIXct                  |1                  |\n|________________________ |                   |\n|Group variables          |None               |\n\n\n**Variable type: Date**\n\n|skim_variable | n_missing| complete_rate|min        |max        |median     | n_unique|\n|:-------------|---------:|-------------:|:----------|:----------|:----------|--------:|\n|date          |         0|             1|2015-01-01 |2021-08-31 |2017-10-30 |     2035|\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate|  mean|      sd|     p0| p25| p50| p75| p100|hist  |\n|:-------------|---------:|-------------:|-----:|-------:|------:|---:|---:|---:|----:|:-----|\n|sactmin       |    270053|          0.02| 19.26| 1266.72| -92918|  20|  30|  48|  217|▁▁▁▁▇ |\n|spostmin      |     25698|          0.91| 79.85|   35.08|      0|  55|  80| 100|  300|▅▇▂▁▁ |\n\n\n**Variable type: POSIXct**\n\n|skim_variable | n_missing| complete_rate|min                 |max                 |median              | n_unique|\n|:-------------|---------:|-------------:|:-------------------|:-------------------|:-------------------|--------:|\n|datetime      |         0|             1|2015-01-01 07:51:12 |2021-08-31 21:12:17 |2017-10-30 12:06:53 |   275402|\n\n\n:::\n:::\n\n\n\n## Working with multiple data sources\n\nFrequently we find ourselves merging data from multiple sources when attempting to answer causal questions in order to ensure that all of the necessary factors are accounted for.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nseven_dwarfs_train\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 275,440 × 4\n   date       datetime            sactmin spostmin\n   <date>     <dttm>                <dbl>    <dbl>\n 1 2015-01-01 2015-01-01 07:51:12      NA       45\n 2 2015-01-01 2015-01-01 08:02:13      NA       60\n 3 2015-01-01 2015-01-01 08:05:30      54       NA\n 4 2015-01-01 2015-01-01 08:09:12      NA       60\n 5 2015-01-01 2015-01-01 08:16:12      NA       60\n 6 2015-01-01 2015-01-01 08:22:16      55       NA\n 7 2015-01-01 2015-01-01 08:23:12      NA       60\n 8 2015-01-01 2015-01-01 08:29:12      NA       60\n 9 2015-01-01 2015-01-01 08:37:13      NA       90\n10 2015-01-01 2015-01-01 08:44:11      NA      105\n# ℹ 275,430 more rows\n```\n\n\n:::\n:::\n\n\n\n## Recognizing missing data\n\n## Exploring and visualizing data and assumptions\n\n## Presenting descriptive statistics\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}